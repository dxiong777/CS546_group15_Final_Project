<form action = "/delete" method = "POST" id = "private-form">

<h2><a href ="/edit/{{shopId}}">Edit your profile</a></h2>
<input name = "_method" hidden value = "DELETE">
 <input id = "remove-button" class = "submit-button" type = "submit" value = "Remove Account" hidden>
 <button class = "submit-button" id ="remove-button" type = "submit" value = "Remove Account" hidden></a></button>
 <p id = "remove-success" hidden>Account removed successfully</p>
<p><a href="/logout">Logout</a></p>
</form>



<main id="ab">
    <h1>{{title}}</h1>
    <h2 id="shopId">{{shopId}}</h2>


    <table width="30%" border="2">

        <tr style='text-align:left; background-color:#CCC'>


            <th> Product Name </th>
            <th> Product Details </th>
            <th> Product Highlights </th>
            <th> Price </th>
            <th> Quantity Remaining </th>
            <th> Date of Manufacture </th>
            <th> Date of Expiry </th>
            <th> Edit </th>
            <th> Delete </th>
            <th></th>
        </tr>
        <tr>
            <form method="post" id="additemform b1" action="/shopId/{{shopId}}">

                <div class="" id="addNew b2">
                    <button type="submit" id="submit addNew" class="btn btn-default">Add</button>
                </div>
                <td>
                    {{!-- required oninvalid="this.setCustomValidity('Please Enter Product Name')"
                    oninput="this.setCustomValidity('')" id="productname" --}}
                    <input size="18" type="text" name="productname" placeholder="Product Name" />
                </td>
                <td>
                    {{!-- required oninvalid="this.setCustomValidity('Please Enter Product Details')"
                    oninput="this.setCustomValidity('')" --}}
                    <input id="productdetails" type="text" name="productdetails" placeholder="ProductDetails"
                        value="John55" />
                </td>
                <td>
                    {{!-- required oninvalid="this.setCustomValidity('Please Enter Product Highlights')"
                    oninput="this.setCustomValidity('')" --}}
                    <input id="producthighlights" type="text" name="producthighlights" placeholder="Product Highlights"
                        value="John" />
                </td>
                <td>
                    {{!-- required oninvalid="this.setCustomValidity('Please Enter Valid Price')"
                    oninput="this.setCustomValidity('')" --}}
                    <input size="10" type="text" id="price totalAmt" step="0.5" name="price" placeholder="Price ( $ )"
                        value="5" />
                </td>
                <td>
                    {{!-- required oninvalid="this.setCustomValidity('Please Enter Quantity Remaining')"
                    oninput="this.setCustomValidity('')" --}}
                    <input type="text" id="quantityremaining" name="quantityremaining"
                        placeholder="Quantity Remaining (0-5)" value="5" />
                </td>
                <td>
                    {{!-- required oninvalid="this.setCustomValidity('Please Enter Valid Date')"
                    oninput="this.setCustomValidity('')" --}}
                    <input id="dateofmanufacture" type="date" name="dateofmanufacture"
                        placeholder="Date of Manufacture" />
                </td>
                <td>

                    {{!-- required
                    oninvalid="this.setCustomValidity('Please Enter Valid Date of Expiry')"
                    oninput="this.setCustomValidity('')" --}}
                    <input id="dateofexpiry" type="date" name="dateofexpiry" placeholder="Date of Expiry" />
                </td>
                <td>
                    {{!-- <div class="form-group" id="addNeww">
                        <button type="submit" id="submit addNew" class="btn btn-default">Add</button>
                    </div> --}}
                </td>
            </form>
        </tr>

  
        {{#if allItem}}
        {{#each allItem}}
        <tr>
            <td><label type="text" name="name" id="name" value="{{this.productname}}">{{this.productname}}</label>
            </td>
            <td><label type="text" name="name" id="name" value="{{this.productdetails}}">{{this.productdetails}}</label>
            </td>
            <td><label type="text" name="name" id="name"
                    value="{{this.producthighlights}}">{{this.producthighlights}}</label></td>
            <td><label type="text" name="name" id="name" value="{{this.price}}">{{this.price}}</label></td>
            <td><label type="text" name="name" id="name"
                    value="{{this.quantityremaining}}">{{this.quantityremaining}}</label></td>
            <td><label type="text" name="name" id="name"
                    value="{{this.dateofmanufacture}}">{{this.dateofmanufacture}}</label></td>
            <td><label type="text" name="name" id="name" value="{{this.dateofexpiry}}">{{this.dateofexpiry}}</label>
            </td>
            <td>
                <form method="get" action="/shopId/editItem/{{this._id}}">
                    <input type="submit" name="Edit" value='Edit' />
                </form>
            </td>
            <td>
                <form method="post" action="/shopId/delete/{{this._id}}?_method=DELETE">
                    <input type="hidden" name="_method" value="DELETE">
                    <input type="submit" name="delete" value='Delete' />
                </form>
            </td>
        </tr>
        {{/each}}

        {{/if}}
    </table>




         
    {{#if messagetoCreateProduct}}
    <p id="">{{messagetoCreateProduct}}</p>
    {{/if}}
    {{#if messageProduct}}
    <p id="message">{{messageProduct}}</p>
    {{/if}}
</main>

{{#if averageRating}}
<h3 style="background-color:rgb(206, 101, 201);" for="overAllRating">Average ratinig of your shop: {{averageRating}}
</h3>
{{/if}}
{{#if noRating}}
<h3 style="background-color:rgb(206, 101, 201);" for="noRating">{{noRating}}
</h3>
{{/if}}

{{#if messageForMessage}}

<p id="message">{{messageForMessage}}</p>

{{/if}}

{{#if noComment}}
<p id="message">{{noComment}}</p>
{{/if}}

{{#if msgForShop}}
<h2> Message from Customer</h2>
<table id="message" width="50%" border="5">

    <tr>
        <th>Date</th>
        <th>User Name</th>
        <th>Message</th>
  
    </tr>
    {{#each msgForShop}}
    <tr>
        {{!-- <td>{{this.idUser}}</td> --}}

        <td>{{this.date}}</td> 
        {{!-- <td>{{this.firstname}}</td> --}}
        <td>{{this.userName}}</td>
        <td>{{this.message}}</td>
        <td>
            <form method="post" action="/shopId/delete/{{this._id}}?_method=DELETE">
                <input type="hidden" name="_method" value="DELETE">

                <input type="submit" name="delete" value='Delete' />
            </form>
        </td>
        <td>

            <form method="post" id="shopToUserMessaage" action="/shopId/{{this.idUser}}/{{this.shopId}}">

                <label for="">Replay Message</label>
                <input type="message" name="replayMessage" />
                {{!-- required oninvalid="this.setCustomValidity('Please Enter Message for ShopKeeper.')"
                    oninput="this.setCustomValidity('')"  --}}
                <button type="submit" id="submit addNew" class="btn btn-default">Send Replay</button>
            </form>
        </td>
    </tr>

    {{/each}}

</table>
{{/if}}


{{#if commentForShop}}
<h2> Comment from Customer</h2>
<table id="comment" width="50%" border="5">
    <tr>
        <th>User Name</th>
        <th>Comment</th>
        <th>Date</th>
    </tr>
    {{#each commentForShop}}
    <tr>
        <td>{{this.userName}}</td>

        <td>{{this.comment}}</td>
        <td>
            {{this.date}}
        </td>
    </tr>
    {{/each}}
</table>
{{/if}}